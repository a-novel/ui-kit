{"version":3,"sources":["../../../src/components/scripted/ScrollEvent.tsx"],"sourcesContent":["import { FC, useEffect, useState } from \"react\";\n\nexport interface ScrollEventProps {\n  /**\n   * <span style=\"color: #32adff;\">Function to call when scrolling into view.</span>\n   */\n  callback: IntersectionObserverCallback;\n  /**\n   * <span style=\"color: #32adff;\">Whether the event should be enabled.</span>\n   *\n   * You can programmatically disabled the event by setting this prop to false.\n   */\n  enabled?: boolean;\n  /**\n   * <span style=\"color: #32adff;\">Threshold of the event.</span>\n   *\n   * It is the distance between the edge of the screen and the element before the event is fired.\n   *\n   * Default value is 0. You can use a number (pixels), or any valid css unit.\n   */\n  threshold?: string | number;\n}\n\n/**\n * <span style=\"color: #32adff;\">A scroll event component.</span>\n *\n * The event is fired when the element scrolls into view.\n */\nexport const ScrollEvent: FC<ScrollEventProps> = ({ callback, threshold, enabled }) => {\n  const [listenerRef, setListenerRef] = useState<HTMLSpanElement | null>(null);\n\n  useEffect(() => {\n    if (listenerRef == null || enabled === false) return;\n\n    const observer = new IntersectionObserver(callback);\n    observer.observe(listenerRef);\n\n    return () => observer.disconnect();\n  }, [callback, enabled, listenerRef]);\n\n  return (\n    <span\n      ref={setListenerRef}\n      style={{ position: \"absolute\", width: 1, height: threshold ?? 0, zIndex: -1, bottom: 0 }}\n    />\n  );\n};\n"],"names":["useEffect","useState","ScrollEvent","callback","threshold","enabled","listenerRef","setListenerRef","observer","IntersectionObserver","observe","disconnect","span","ref","style","position","width","height","zIndex","bottom"],"mappings":"0CAAA,QAAaA,SAAS,CAAEC,QAAQ,KAAQ,OAAQ,AA4BhD,QAAO,MAAMC,YAAoC,CAAC,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,CAAE,IAChF,KAAM,CAACC,YAAaC,eAAe,CAAGN,SAAiC,MAEvED,UAAU,KACR,GAAIM,aAAe,MAAQD,UAAY,MAAO,OAE9C,MAAMG,SAAW,IAAIC,qBAAqBN,UAC1CK,SAASE,OAAO,CAACJ,aAEjB,MAAO,IAAME,SAASG,UAAU,EAClC,EAAG,CAACR,SAAUE,QAASC,YAAY,EAEnC,OACE,KAACM,QACCC,IAAKN,eACLO,MAAO,CAAEC,SAAU,WAAYC,MAAO,EAAGC,OAAQb,WAAa,EAAGc,OAAQ,CAAC,EAAGC,OAAQ,CAAE,GAG7F,CAAE"}